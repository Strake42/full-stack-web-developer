<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>DOM Manipulation Example</title>
        <style>
            body {
                text-align: center;
                color: aliceblue;
                background-color: rgb(53, 53, 53);
            }
            .highlight {
                background-color: yellow;
                color: black;
            }
            .hidden {
                display: none;
            }
        </style>
    </head>
    <body>
        <h1 id="title">JavaScript Manipulation Example</h1>
        <p class="text">This is a paragraph with class 'text'.</p>
        <p class="text">This is another paragraph with class 'text'.</p>
        <button id="highlightButton">Highlight Text</button>
        <button id="hideButton">Hide Text</button>
        <button id="changeTitleButton">Change Title</button>
        <button id="addParagraphButton">Add Paragraph</button>
        <button id="changeColorButton">Change Color</button>

        <br />
        <br/>
        <form id="exampleForm">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required />
            <br />
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required />
            <br />
            <button type="submit">Submit</button>
        </form>

        <div id="formDataDisplay">..</div>

        <script>
            // Get elements by class name
            const textElements = document.getElementsByClassName("text");

            // Add event listener to highlight button
            const highlightButton = document.getElementById("highlightButton");
            highlightButton.addEventListener("click", () => {
                for (let element of textElements) {
                    element.classList.toggle("highlight"); // Toggle the 'highlight' class
                }
            });

            // Add event listener to hide button
            const hideButton = document.getElementById("hideButton");
            hideButton.addEventListener("click", () => {
                for (let element of textElements) {
                    element.classList.toggle("hidden"); // Toggle the 'hidden' class
                }
            });

            // Add event listener to change title button
            const changeTitleButton = document.getElementById("changeTitleButton");
            const title = document.getElementById("title");
            changeTitleButton.addEventListener("click", () => {
                title.textContent =
                    title.textContent === "JavaScript Manipulation Example"
                        ? "Title Changed!"
                        : "JavaScript Manipulation Example"; // Toggle the text content of the title
            });

            // Add event listener to add paragraph button
            const addParagraphButton = document.getElementById("addParagraphButton");
            addParagraphButton.addEventListener("click", () => {
                const newParagraph = document.createElement("p"); // Create a new paragraph element
                newParagraph.classList.add("text"); // Add the 'text' class to the new paragraph
                newParagraph.textContent = "This is a new paragraph."; // Set the text content of the new paragraph
                document.body.appendChild(newParagraph); // Append the new paragraph to the body
            });

            // Add event listener to change color button
            const changeColorButton = document.getElementById("changeColorButton");
            changeColorButton.addEventListener("click", () => {
                for (let element of textElements) {
                    element.style.color =
                        element.style.color === "red" ? "aliceblue" : "red"; // Toggle the color
                }
            });

                // Event delegation for form handling
                document.body.addEventListener("submit", (event) => {
                    event.preventDefault(); // Prevent the default form submission

                    if (event.target.matches("form")) {
                        const formData = new FormData(event.target);
                        const formProps = Object.fromEntries(formData);
                        console.log("Form submitted:", formProps);

                        // Display form data on the screen
                        const formDataDisplay = document.getElementById("formDataDisplay");
                        formDataDisplay.innerHTML = `<p>Name: ${formProps.name}</p><p>Email: ${formProps.email}</p>`;
                    }
                });
            
        </script>
    </body>
</html>
